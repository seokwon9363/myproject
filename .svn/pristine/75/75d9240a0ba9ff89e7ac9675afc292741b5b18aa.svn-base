<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/themes/default/style.min.css" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/jstree.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>



<style>
#chart_div .google-visualization-orgchart-table {
	width: 500px;
	height: 250px;
}

.google-visualization-orgchart-table td {
	font-family: NotoSans;
}
</style>

<div id="kt_docs_jstree_basic">
	<ul>
		<li>All-Rounder
			<ul>
				<c:forEach items="${list}" var="org">
					<c:if test="${org.common.commonCodeSj eq '대표이사' }">
						<li data-jstree='{ "type" : "file" }'>${org.empName } ${org.common.commonCodeSj } </li>
					</c:if>
					<c:if test="${org.common.commonCodeSj eq '본부장' }">
						<li data-jstree='{ "type" : "file" }'>${org.empName } ${org.common.commonCodeSj }</li>
					</c:if>
				</c:forEach>
				<c:forEach items="${dept}" var="dept">
					<c:if test="${dept.deptName ne '대표이사' }">
						<c:if test="${dept.deptName ne '본부장' }">
							<li data-jstree='{ "selected" : true }'>
								<a href="javascript:;"> ${dept.deptName } </a> 
									<c:forEach items="${list}" var="org">
										<ul>
											<c:if test="${org.dept.deptName eq dept.deptName }">
												<li data-jstree='{ "type" : "file" }'>${org.empName } ${org.common.commonCodeSj }</li>											
											</c:if>
										</ul>
									</c:forEach>
							</li>
						</c:if>
					</c:if>
				</c:forEach>
				</ul>
			</li>
		</ul>
</div>




<script>
	$('#kt_docs_jstree_basic').jstree({
		"core" : {
			"themes" : {
				"responsive" : false
			}
		},
		"types" : {
			"default" : {
				"icon" : "fa fa-folder"
			},
			"file" : {
				"icon" : "fa fa-file"
			}
		},
		"plugins" : [ "types" ]
	});
</script>