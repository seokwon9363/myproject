<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.or.ddit.pms.project.dao.ProjectDAO"> 

<!--  [[개정이력(Modification Information)]]       -->
<!--  수정일        수정자     수정내용               -->
<!--  ==========   ======    ==============        -->
<!--  2023. 11. 8.}     송석원     최초작성               -->
<!--  Copyright (c) 2023 by DDIT All right reserved -->

	<resultMap type="ProjectVO" id="projectMap" autoMapping="true">
		<id property="proSn" column="PRO_SN"/> 
		<collection property="pmemberList"  ofType="PmemberVO" autoMapping="true" />    
	</resultMap>  
  
 
  
	<select id="selectProjectList" resultType="ProjectVO" parameterType="String"> 
		SELECT
	    P.PRO_SN,
	    P.PRO_NM,
	    P.PRO_BDATE,
	    P.PRO_EDATE,
	    P.PRO_STTUS,
	    P.PRO_PROGRS
	FROM
	    PROJECT P
	INNER JOIN
	    PMEMBER M
	ON
	    P.PRO_SN = M.PRO_SN
	WHERE
	    M.EMP_CD =  #{empCd}
	
	</select>
	
	<update id="updateProjectStt" parameterType="ProjectVO"> 
		UPDATE PROJECT
		SET
			PRO_STTUS = #{proSttus, jdbcType=VARCHAR}
		WHERE  PRO_SN = #{proSn}
	
	</update>
	



	



</mapper>